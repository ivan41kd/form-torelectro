const products = [
 {
  category: 1,
  items: [
   {
    title: 'Удлинители в бухте',
    description:
     'Удлинители с кабелем медным (проводом) и вилками изоляционными. Без заземления, со степенью защиты IP44 (корпусная розетка и крышка), европейская вилка 16А, с поддерживаемой напряжением сети 250 В.',
    grounding: false,
    isProfessional: false,
    category: 1,
    socket: 'крышка на розетке',
    variants: [
     {
      variant: 2220,
      options: [
       {
        article: 101,
        plugs: '2х1,0',
        length: '10 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 102,
        plugs: '2х1,0',
        length: '20 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 103,
        plugs: '2х1,0',
        length: '30 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 104,
        plugs: '2х1,0',
        length: '40 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 105,
        plugs: '2х1,0',
        length: '50 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
     {
      variant: 3500,
      options: [
       {
        article: 106,
        plugs: '2х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 107,
        plugs: '2х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 108,
        plugs: '2х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 109,
        plugs: '2х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 110,
        plugs: '2х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 111,
        plugs: '2х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 112,
        plugs: '2х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 113,
        plugs: '2х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 114,
        plugs: '2х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 115,
        plugs: '2х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
    ],
   },
   {
    title: 'Удлинители в бухте ',
    description: `Удлинители с кабелем медным (проводом) и виниловым изолированием,
        с заземлением, со степенью защиты «IP44» (каучуковая розетка и крышка),
        с европейской вилкой «16А», с поддержанием напряжения сети в «220В»`,
    grounding: true,
    isProfessional: false,
    category: 1,
    socket: 'крышка в розетке',
    variants: [
     {
      variant: 2220,
      options: [
       {
        article: 116,
        plugs: '3х1,0',
        length: '10 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 117,
        plugs: '3х1,0',
        length: '20 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 118,
        plugs: '3х1,0',
        length: '30 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 119,
        plugs: '3х1,0',
        length: '40 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 120,
        plugs: '3х1,0',
        length: '50 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 3500,
      options: [
       {
        article: 121,
        plugs: '3х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 122,
        plugs: '3х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 123,
        plugs: '3х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 124,
        plugs: '3х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 125,
        plugs: '3х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 126,
        plugs: '3х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 127,
        plugs: '3х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 128,
        plugs: '3х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 129,
        plugs: '3х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 130,
        plugs: '3х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
    ],
   },
   {
    title: 'Удлинители на раме ',
    description: `Удлинители с изолированным кабелем медным на рамке для его намотки,
    без заземления, со степенью защиты «IP44» (каучуковая розетка и крышка),
    с европейской вилкой «16А», с поддержанием напряжения сети в «220В»`,
    grounding: false,
    isProfessional: false,
    category: 1,
    socket: 'крышка на розетке',
    variants: [
     {
      variant: 2220,
      options: [
       {
        article: 201,
        plugs: '2х1,0',
        length: '10 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 202,
        plugs: '2х1,0',
        length: '20 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 203,
        plugs: '2х1,0',
        length: '30 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 204,
        plugs: '2х1,0',
        length: '40 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 205,
        plugs: '2х1,0',
        length: '50 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
     {
      variant: 3500,
      options: [
       {
        article: 206,
        plugs: '2х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 207,
        plugs: '2х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 208,
        plugs: '2х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 209,
        plugs: '2х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 210,
        plugs: '2х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 211,
        plugs: '2х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 212,
        plugs: '2х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 213,
        plugs: '2х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 214,
        plugs: '2х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 215,
        plugs: '2х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
    ],
   },
   {
    title: 'Удлинители на рамке ',
    description: `Удлинители с изолированным кабелем медным на рамке для его намотки,
    с заземлением, со степенью защиты «IP44» (каучуковая розетка и крышка),
    с европейской вилкой «16А», с поддержанием напряжения сети в «220В»`,
    grounding: true,
    isProfessional: false,
    category: 1,
    socket: 'крышка в розетке',
    variants: [
     {
      variant: 2220,
      options: [
       {
        article: 116,
        plugs: '3х1,0',
        length: '10 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 117,
        plugs: '3х1,0',
        length: '20 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 118,
        plugs: '3х1,0',
        length: '30 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 119,
        plugs: '3х1,0',
        length: '40 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 120,
        plugs: '2х1,0',
        length: '50 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 3500,
      options: [
       {
        article: 121,
        plugs: '3х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 122,
        plugs: '3х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 123,
        plugs: '3х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 124,
        plugs: '3х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 125,
        plugs: '3х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 126,
        plugs: '3х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 127,
        plugs: '3х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 128,
        plugs: '3х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 129,
        plugs: '3х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 130,
        plugs: '3х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
    ],
   },
   {
    title: 'Удлинители на катушке',
    description: `Удлинители с кабелем медным (проводом) и виниловым изолированием,
    на садовой пластиковой катушке и удобным местом наматывания,
    без заземления, со степенью защиты «IP44» (каучуковая розетка и крышка),
    с европейской вилкой «16А», с поддержанием напряжения сети в «220В»`,
    grounding: false,
    isProfessional: true,
    category: 1,
    socket: 'крышка на розетке',
    variants: [
     {
      variant: 2220,
      options: [
       {
        article: 301,
        plugs: '2х1,0',
        length: '20 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 302,
        plugs: '2х1,0',
        length: '30 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 303,
        plugs: '2х1,0',
        length: '40 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
       {
        article: 304,
        plugs: '2х1,0',
        length: '50 м',
        security: 'IP44',
        power: '2200 Вт',
        socket: '1 розетка',
        grounding: false,
       },
      ],
     },
     {
      variant: 3500,
      options: [
       {
        article: 121,
        plugs: '3х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 122,
        plugs: '3х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 123,
        plugs: '3х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 124,
        plugs: '3х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 125,
        plugs: '3х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 126,
        plugs: '3х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 127,
        plugs: '3х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 128,
        plugs: '3х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 129,
        plugs: '3х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 130,
        plugs: '3х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
    ],
   },
  ],
 },
 {
  category: 2,
  items: [
   {
    title: 'Удлинители силовые в бухте',
    description: `Удлинители силовые с кабелем гибким и холодостойким, в бухте,
     с заземлением, со степенью защиты «IP44» (каучуковая розетка и крышка),
     с европейской вилкой «16А», с поддержанием напряжения сети в «220В»`,
    grounding: true,
    isProfessional: false,
    isSpec: false,
    isEco: true,
    isGost: false,
    category: 2,
    temp: 'от +40°C до -60°C ',

    variants: [
     {
      variant: 3500,
      options: [
       {
        article: 501,
        plugs: '3х1,5',
        length: '10 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 502,
        plugs: '3х1,5',
        length: '20 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 503,
        plugs: '3х1,5',
        length: '30 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 504,
        plugs: '3х1,5',
        length: '40 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 505,
        plugs: '3х1,5',
        length: '50 м',
        security: 'IP44',
        power: '3500 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
     {
      variant: 4000,
      options: [
       {
        article: 506,
        plugs: '3х2,5',
        length: '10 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 507,
        plugs: '3х2,5',
        length: '20 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 508,
        plugs: '3х2,5',
        length: '30 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 509,
        plugs: '3х2,5',
        length: '40 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
       {
        article: 510,
        plugs: '3х2,5',
        length: '50 м',
        security: 'IP44',
        power: '4000 Вт',
        socket: '1 розетка',
        grounding: true,
       },
      ],
     },
    ],
   },
  ],
 },
];

let currentCategory = 0;

const cardsWrapper = document.querySelector('.catalog__cards-wrapper');
const categories = document.querySelectorAll('.catalog__category');

const selectCategory = (category) => {
 currentCategory = category.dataset.category;

 renderProducts(category.dataset.category);
};
const renderProducts = (category) => {
 cardsWrapper.innerHTML = '';
 const categoryItems = products[category].items;

 categoryItems.forEach((item, index) => {
  renderCards(item, index);
 });
 initSlider();
};

const renderOptions = (product) => {
 const optionsArr = product.options;
 const cardOptions = document.querySelector('.product__card-options');
 const imgStickers = document.querySelector('.product__img-stickers');
 cardOptions.innerHTML = '';
 imgStickers.innerHTML = '';

 const lastLength = optionsArr[optionsArr.length - 1].length;
 console.log(lastLength);
 optionsArr.forEach((option, index) => {
  const optionsWrapper = document.createElement('div');
  optionsWrapper.className = 'product__options';
  if (index == 0) {
   for (const [key, value] of Object.entries(option)) {
    if (key != 'article' && key != 'security' && key != 'power') {
     const imgSticker = document.createElement('div');
     imgSticker.className = 'product__img-sticker';
     imgSticker.textContent = value;
     if (key == 'grounding') {
      option.grounding == false
       ? (imgSticker.textContent = 'без заземления')
       : (imgSticker.textContent = 'с заземлением');
     }
     if (key == 'length') {
      imgSticker.textContent = `От ${value} до ${lastLength} `;
     }
     imgStickers.appendChild(imgSticker);
    }
   }
  }

  const addCart = document.createElement('div');
  addCart.className = 'product__add';
  addCart.innerHTML = `<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.8692 2.97677C14.817 2.91437 14.7518 2.86418 14.6782 2.82975C14.6045 2.79532 14.5242 2.77747 14.4428 2.77749H3.24131L2.81913 0.456202C2.79588 0.328207 2.72844 0.212433 2.62858 0.129064C2.52871 0.0456944 2.40275 1.88016e-05 2.27266 0H0.555494C0.408168 0 0.266876 0.0585255 0.1627 0.162701C0.0585251 0.266878 0 0.408171 0 0.555498C0 0.702825 0.0585251 0.844118 0.1627 0.948294C0.266876 1.05247 0.408168 1.111 0.555494 1.111H1.80536L3.58016 10.8523C3.63244 11.1412 3.76011 11.4112 3.95026 11.6349C3.68782 11.88 3.4984 12.193 3.403 12.5393C3.3076 12.8855 3.30994 13.2513 3.40978 13.5963C3.50962 13.9412 3.70304 14.2518 3.96861 14.4935C4.23417 14.7353 4.56149 14.8987 4.91429 14.9658C5.26708 15.0329 5.63155 15.0009 5.96729 14.8735C6.30303 14.746 6.59691 14.5281 6.81636 14.2438C7.0358 13.9596 7.17223 13.6201 7.21051 13.263C7.2488 12.906 7.18744 12.5453 7.03325 12.2209H10.1871C10.0628 12.4811 9.99848 12.7659 9.99889 13.0542C9.99889 13.4387 10.1129 13.8146 10.3266 14.1344C10.5402 14.4541 10.8438 14.7033 11.1991 14.8504C11.5544 14.9976 11.9453 15.0361 12.3224 14.9611C12.6996 14.8861 13.046 14.7009 13.3179 14.429C13.5898 14.1571 13.775 13.8106 13.85 13.4335C13.925 13.0564 13.8865 12.6654 13.7394 12.3102C13.5922 11.9549 13.343 11.6513 13.0233 11.4376C12.7035 11.224 12.3277 11.11 11.9431 11.11H5.21956C5.08947 11.1099 4.96351 11.0643 4.86365 10.9809C4.76378 10.8975 4.69635 10.7817 4.67309 10.6538L4.45298 9.44346H12.5076C12.8979 9.4434 13.2758 9.30638 13.5754 9.05627C13.875 8.80616 14.0773 8.45884 14.147 8.07485L14.9914 3.43228C15.0057 3.35204 15.0021 3.26964 14.981 3.19091C14.9599 3.11219 14.9217 3.03908 14.8692 2.97677ZM6.11043 13.0542C6.11043 13.219 6.06156 13.3801 5.97001 13.5171C5.87845 13.6541 5.74831 13.7609 5.59606 13.824C5.4438 13.8871 5.27627 13.9036 5.11463 13.8714C4.953 13.8393 4.80453 13.7599 4.688 13.6434C4.57147 13.5269 4.49211 13.3784 4.45996 13.2168C4.42781 13.0551 4.44431 12.8876 4.50738 12.7353C4.57044 12.5831 4.67724 12.4529 4.81427 12.3614C4.95129 12.2698 5.11239 12.2209 5.27719 12.2209C5.49818 12.2209 5.71012 12.3087 5.86638 12.465C6.02264 12.6213 6.11043 12.8332 6.11043 13.0542ZM12.7764 13.0542C12.7764 13.219 12.7275 13.3801 12.6359 13.5171C12.5444 13.6541 12.4142 13.7609 12.262 13.824C12.1097 13.8871 11.9422 13.9036 11.7806 13.8714C11.6189 13.8393 11.4705 13.7599 11.3539 13.6434C11.2374 13.5269 11.158 13.3784 11.1259 13.2168C11.0937 13.0551 11.1102 12.8876 11.1733 12.7353C11.2364 12.5831 11.3432 12.4529 11.4802 12.3614C11.6172 12.2698 11.7783 12.2209 11.9431 12.2209C12.1641 12.2209 12.376 12.3087 12.5323 12.465C12.6886 12.6213 12.7764 12.8332 12.7764 13.0542Z" fill="white"/>
      </svg>
      `;
  for (const [key, value] of Object.entries(option)) {
   const optionElement = document.createElement('div');
   optionElement.className = 'product__option';
   optionElement.textContent = value;
   if (key == 'grounding') {
    option.grounding == false
     ? (optionElement.textContent = 'без заземления')
     : (optionElement.textContent = 'с заземлением');
   }
   optionsWrapper.append(optionElement);
   optionsWrapper.append(addCart);
   cardOptions.append(optionsWrapper);
  }
 });
};

const renderCards = (product, index) => {
 const cardDiv = document.createElement('div');
 cardDiv.dataset.index = index;
 cardDiv.className = 'catalog__card swiper-slide';
 const cardIndex = cardDiv.dataset.index;
 cardDiv.innerHTML = `
  <div class='catalog__card-wrapper'>
   <div class='catalog__card-img'></div>
   <p class='catalog__card-name'>${product.title} ${
  product.grounding == true ? '· с заземлением' : '· без заземления'
 } </p>
   <div class='catalog__card-chars'>
    <div class='catalog__char'>
     <p class='catalog__char-name'>сечение кабеля: <br /></p>
     <p class='catalog__char-value'>
      ${product.variants
       .map((item) => item.options[0].plugs)
       .join(`<span> · </span>`)}
     </p>
    </div>
    <div class='catalog__char'>
     <p class='catalog__char-name'>длина кабеля: <br /></p>
     <p class='catalog__char-value'>от ${
      product.variants[0].options[0].length
     } до ${
  product.variants[0].options[product.variants[0].options.length - 1].length
 }</p>
    </div>
    <div class='catalog__char'>
    
     <p class='catalog__char-name'>${
      product.category == 1 ? `защита кабеля:` : `система заземления:`
     }</p>
     <p class='catalog__char-value'>${
      product.category == 1
       ? `${product.variants[0].options[0].security} <span> · </span>  ${product.socket}`
       : `${product.grounding == true ? 'с заземлением' : 'без заземления'}`
     } </p>
    </div>
   </div>
   <button class='catalog__card-button'>Посмотреть</button>
  </div>`;
 cardsWrapper.appendChild(cardDiv);
 cardDiv.addEventListener('click', () => {
  openProduct(cardIndex);
 });
};

const renderVariants = (product, variantsContainer) => {
 variantsContainer.innerHTML = '';
 product.variants.forEach((variant, index) => {
  const productVariantButton = document.createElement('button');
  productVariantButton.className = 'product__card-variant';
  productVariantButton.innerHTML = `<span class='product__card-variant-value'>${variant.variant} Вт</span> <span class='product__card-variant-name'>с мощностью</span>`;

  if (index === 0) {
   productVariantButton.classList.add('active');
   renderOptions(variant);
  }

  productVariantButton.addEventListener('click', () => {
   // Удаление класса 'active' у всех кнопок перед назначением новой активной
   const allVariantButtons = variantsContainer.querySelectorAll(
    '.product__card-variant'
   );
   allVariantButtons.forEach((btn) => btn.classList.remove('active'));

   productVariantButton.classList.add('active');
   renderOptions(variant);
  });

  variantsContainer.appendChild(productVariantButton);
 });
};
const closeProduct = (section) => {
 section.remove();
};
const openProduct = (index) => {
 const prod = products[currentCategory].items[index];

 const existingProductSection = document.querySelector('.product');
 if (existingProductSection) {
  existingProductSection.remove();
 }

 const productSection = document.createElement('section');
 productSection.className = 'product';
 productSection.innerHTML = `
 <div class='product__wrapper'>
 
 <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class='product__card-close'>
 <g opacity="0.25">
 <path d="M15 2.8125C12.5895 2.8125 10.2332 3.52728 8.22899 4.86646C6.22477 6.20564 4.66267 8.10907 3.74022 10.336C2.81778 12.563 2.57643 15.0135 3.04668 17.3777C3.51694 19.7418 4.67769 21.9134 6.38214 23.6179C8.08659 25.3223 10.2582 26.4831 12.6223 26.9533C14.9865 27.4236 17.437 27.1822 19.664 26.2598C21.8909 25.3373 23.7944 23.7752 25.1335 21.771C26.4727 19.7668 27.1875 17.4105 27.1875 15C27.1841 11.7687 25.899 8.67076 23.6141 6.3859C21.3292 4.10104 18.2313 2.81591 15 2.8125ZM19.4133 18.0867C19.5004 18.1738 19.5695 18.2772 19.6166 18.391C19.6638 18.5048 19.688 18.6268 19.688 18.75C19.688 18.8732 19.6638 18.9952 19.6166 19.109C19.5695 19.2228 19.5004 19.3262 19.4133 19.4133C19.3262 19.5004 19.2228 19.5695 19.109 19.6166C18.9952 19.6638 18.8732 19.688 18.75 19.688C18.6268 19.688 18.5048 19.6638 18.391 19.6166C18.2772 19.5695 18.1738 19.5004 18.0867 19.4133L15 16.3254L11.9133 19.4133C11.8262 19.5004 11.7228 19.5695 11.609 19.6166C11.4952 19.6638 11.3732 19.688 11.25 19.688C11.1268 19.688 11.0048 19.6638 10.891 19.6166C10.7772 19.5695 10.6738 19.5004 10.5867 19.4133C10.4996 19.3262 10.4305 19.2228 10.3834 19.109C10.3362 18.9952 10.312 18.8732 10.312 18.75C10.312 18.6268 10.3362 18.5048 10.3834 18.391C10.4305 18.2772 10.4996 18.1738 10.5867 18.0867L13.6746 15L10.5867 11.9133C10.4108 11.7374 10.312 11.4988 10.312 11.25C10.312 11.0012 10.4108 10.7626 10.5867 10.5867C10.7626 10.4108 11.0012 10.312 11.25 10.312C11.4988 10.312 11.7374 10.4108 11.9133 10.5867L15 13.6746L18.0867 10.5867C18.1738 10.4996 18.2772 10.4305 18.391 10.3834C18.5048 10.3362 18.6268 10.312 18.75 10.312C18.8732 10.312 18.9952 10.3362 19.109 10.3834C19.2228 10.4305 19.3262 10.4996 19.4133 10.5867C19.5004 10.6738 19.5695 10.7772 19.6166 10.891C19.6638 11.0048 19.688 11.1268 19.688 11.25C19.688 11.3732 19.6638 11.4952 19.6166 11.609C19.5695 11.7228 19.5004 11.8262 19.4133 11.9133L16.3254 15L19.4133 18.0867Z" fill="white"/>
 </g>
 </svg>
 
 <div class='product__card'>
           <div class='product__card-header'>
             <div class='product__card-variants'></div>
             <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class='product__next-variant'>
               <path d="M15 2.8125C12.5895 2.8125 10.2332 3.52728 8.22899 4.86646C6.22477 6.20564 4.66267 8.10907 3.74022 10.336C2.81778 12.563 2.57643 15.0135 3.04668 17.3777C3.51694 19.7418 4.67769 21.9134 6.38214 23.6179C8.08659 25.3223 10.2582 26.4831 12.6223 26.9533C14.9865 27.4236 17.437 27.1822 19.664 26.2598C21.8909 25.3373 23.7944 23.7752 25.1335 21.771C26.4727 19.7668 27.1875 17.4105 27.1875 15C27.1841 11.7687 25.899 8.67076 23.6141 6.3859C21.3292 4.10104 18.2313 2.81591 15 2.8125ZM18.4758 15.6633L13.7883 20.3508C13.7012 20.4379 13.5978 20.507 13.484 20.5541C13.3702 20.6013 13.2482 20.6255 13.125 20.6255C13.0018 20.6255 12.8798 20.6013 12.766 20.5541C12.6522 20.507 12.5488 20.4379 12.4617 20.3508C12.3746 20.2637 12.3055 20.1603 12.2584 20.0465C12.2112 19.9327 12.187 19.8107 12.187 19.6875C12.187 19.5643 12.2112 19.4423 12.2584 19.3285C12.3055 19.2147 12.3746 19.1113 12.4617 19.0242L16.4871 15L12.4617 10.9758C12.2858 10.7999 12.187 10.5613 12.187 10.3125C12.187 10.0637 12.2858 9.82513 12.4617 9.64922C12.6376 9.4733 12.8762 9.37448 13.125 9.37448C13.3738 9.37448 13.6124 9.4733 13.7883 9.64922L18.4758 14.3367C18.563 14.4238 18.6321 14.5272 18.6793 14.641C18.7265 14.7548 18.7507 14.8768 18.7507 15C18.7507 15.1232 18.7265 15.2452 18.6793 15.359C18.6321 15.4728 18.563 15.5762 18.4758 15.6633Z" fill="#FF3D00"/>
             </svg>
           </div>
           <div class='product__card-wrapper'>
             <div class='product__card-img'>
             <div class='product__img-stickers'>

             </div>
             </div>
             <div class='product__card-info'>
               <div class='product__card-info-texts'>
                 <div class='product__card-info-description'>
                   <span class='product__card-title'>название товара</span>
                   <h2 class='product__name'>${prod.title} ${
  prod.grounding == true ? '· с заземлением' : '· без заземления'
 }</h2>
                 </div>
                 <div class='product__card-info-description'>
                   <span class='product__card-title'>краткое описание категории товара</span>
                   <h2 class='product__name'>${prod.description}</h2>
                 </div>
                 ${
                  prod.isProfessional
                   ? '<div class="product__sticker">выбор настоящих профессионалов</div>'
                   : ''
                 }  
                 </div>
                 <button class='product__card-button'>Бесплатная консультация</button>
               <div class='product__card-options'></div>
               <p class='product__disclaimer'>
                 вся информация о товарах и об услугах, носит исключительно информационный характер
               </p>
             </div>
           </div>
         </div>
         </div>`;

 document.body.appendChild(productSection);

 const variantsContainer = productSection.querySelector(
  '.product__card-variants'
 );
 const nextProduct = productSection.querySelector('.product__next-variant');
 renderVariants(prod, variantsContainer);
 nextProduct.addEventListener('click', () => {
  const nextIndex = (index + 1) % products[currentCategory].items.length;
  openProduct(nextIndex);
 });
 const closeIcon = productSection.querySelector('.product__card-close');
 closeIcon.addEventListener('click', () => closeProduct(productSection));
};

categories.forEach((category) => {
 category.addEventListener('click', () => {
  initSlider();
  categories.forEach((cat) => cat.classList.remove('active'));

  category.classList.add('active');

  selectCategory(category);
 });
});

renderProducts(currentCategory);
